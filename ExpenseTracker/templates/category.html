{% extends 'base.html' %}

{% block title %}{{category.name}}{% endblock %}

{% block content %}
    <h3 id="category-header">{{ category.name }} 
        <button id="openCreateExpenditureModal" class="btn btn-secondary"><i class="bi bi-plus-lg"></i> Create Expenditure</button>
    </h3>
    <p><b>Spending Limit</b> {{ category.spendingLimit }}</p>
    <hr>
    <p><b>Expenditure History</b></p>
    <div class="shadow-4 rounded-3 overflow-hidden">
        {% include 'partials/expenditures/expendituresTable.html' with expenditures=expenditures %}
    </div>
    <div class="text-center">
        {% include 'partials/expenditures/pagination.html' with expenditures=expenditures %}
    </div>
   {% include 'modals/createExpenditure.html' with form=form %} 
   {% include 'modals/updateExpenditure.html' with form=form %} 
    <script>
        $(document).ready(function() {
            $("#openCreateExpenditureModal").on("click", function() {
                $("#createExpenditureModal").modal("show");
            });
            $("#openUpdateExpenditureModal").on("click", function() {
                $("#updateExpenditureModal").modal("show");
            });
        });
    </script>   
{% endblock %}